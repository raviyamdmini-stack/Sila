const { applyFont } = require('./fonts');
const config = require('../config');

// Auto-reply messages with fancy fonts
const autoReplies = {
    'hi': 'ð™·ðšŽðš•ðš•ðš˜! ðŸ‘‹ ð™·ðš˜ðš  ðšŒðšŠðš— ð™¸ ðš‘ðšŽðš•ðš™ ðš¢ðš˜ðšž ðšðš˜ðšðšŠðš¢?',
    'mambo': 'ð™¿ðš˜ðšŠ ðšœðšŠðš—ðšŠ! ðŸ‘‹ ð™½ðš’ðš”ðšžðšœðšŠðš’ðšðš’ðšŽ ð™ºðšžðš‘ðšžðšœðšž?',
    'hey': 'ð™·ðšŽðš¢ ðšðš‘ðšŽðš›ðšŽ! ðŸ˜Š ðš„ðšœðšŽ .ðš–ðšŽðš—ðšž ðšðš˜ ðšœðšŽðšŽ ðšŠðš•ðš• ðšŠðšŸðšŠðš’ðš•ðšŠðš‹ðš•ðšŽ ðšŒðš˜ðš–ðš–ðšŠðš—ðšðšœ.',
    'vip': 'ð™·ðšŽðš•ðš•ðš˜ ðš…ð™¸ð™¿! ðŸ‘‘ ð™·ðš˜ðš  ðšŒðšŠðš— ð™¸ ðšŠðšœðšœðš’ðšœðš ðš¢ðš˜ðšž?',
    'mkuu': 'ð™·ðšŽðš¢ ðš–ðš”ðšžðšž! ðŸ‘‹ ð™½ðš’ðš”ðšžðšœðšŠðš’ðšðš’ðšŽ ð™ºðšžðš‘ðšžðšœðšž?',
    'boss': 'ðšˆðšŽðšœ ðš‹ðš˜ðšœðšœ! ðŸ‘‘ ð™·ðš˜ðš  ðšŒðšŠðš— ð™¸ ðš‘ðšŽðš•ðš™ ðš¢ðš˜ðšž?',
    'habari': 'ð™½ðš£ðšžðš›ðš’ ðšœðšŠðš—ðšŠ! ðŸ‘‹ ð™·ðšŠðš‹ðšŠðš›ðš’ ðš¢ðšŠðš”ðš˜?',
    'hello': 'ð™·ðš’ ðšðš‘ðšŽðš›ðšŽ! ðŸ˜Š ðš„ðšœðšŽ .ðš–ðšŽðš—ðšž ðšðš˜ ðšœðšŽðšŽ ðšŠðš•ðš• ðšŠðšŸðšŠðš’ðš•ðšŠðš‹ðš•ðšŽ ðšŒðš˜ðš–ðš–ðšŠðš—ðšðšœ.',
    'bot': 'ðšˆðšŽðšœ, ð™¸ ðšŠðš– ðš‚ð™¸ð™»ð™° ð™¼ð™³ ð™¼ð™¸ð™½ð™¸ s1! ðŸ¤– ð™·ðš˜ðš  ðšŒðšŠðš— ð™¸ ðšŠðšœðšœðš’ðšœðš ðš¢ðš˜ðšž?',
    'menu': 'ðšƒðš¢ðš™ðšŽ .ðš–ðšŽðš—ðšž ðšðš˜ ðšœðšŽðšŽ ðšŠðš•ðš• ðšŒðš˜ðš–ðš–ðšŠðš—ðšðšœ! ðŸ“œ',
    'owner': 'ð™²ðš˜ðš—ðšðšŠðšŒðš ðš˜ðš ðš—ðšŽðš› ðšžðšœðš’ðš—ðš .ðš˜ðš ðš—ðšŽðš› ðšŒðš˜ðš–ðš–ðšŠðš—ðš ðŸ‘‘',
    'thanks': 'ðšˆðš˜ðšž\'ðš›ðšŽ ðš ðšŽðš•ðšŒðš˜ðš–ðšŽ! ðŸ˜Š',
    'thank you': 'ð™°ðš—ðš¢ðšðš’ðš–ðšŽ! ð™»ðšŽðš ðš–ðšŽ ðš”ðš—ðš˜ðš  ðš’ðš ðš¢ðš˜ðšž ðš—ðšŽðšŽðš ðš‘ðšŽðš•ðš™ ðŸ¤–'
};

const handleAutoReply = async (sock, msg, text, sender) => {
    if (!config.AUTO_REPLY) return false;
    
    const lowerText = text.toLowerCase().trim();
    
    // Check for exact matches
    if (autoReplies[lowerText]) {
        try {
            await sock.sendMessage(sender, { 
                text: applyFont(autoReplies[lowerText])
            }, { quoted: msg });
            return true;
        } catch (error) {
            console.log('Auto-reply error:', error.message);
        }
    }
    
    return false;
};

module.exports = {
    handleAutoReply,
    autoReplies
};